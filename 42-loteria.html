<meta charset="utf-8">
<h1>Loteria</h1>
<button onclick="jogar()">
    Jogar
</button>

<script src="javascript/pegaNumero.js"></script>
<script src="javascript/pegaNumeroAleatorio.js"></script>
<script src="javascript/mostra.js"></script>

<script>

    var numeroJogada = 0;

    function jogar()
    {
        numeroJogada++
        var numerosSorteados = []

        while (numerosSorteados.length < 6) {
            var numeroMisterioso = pegaNumeroAleatorio(1, 60)

            if (numerosSorteados.includes(numeroMisterioso) == false) {
                numerosSorteados.push(numeroMisterioso)
            }
        }

        var chute = pegaInt('Tente advinhar o número sorteado:')
        var chutesInvalidos = 0

        while (chute < 1 || chute > 60 || isNaN(chute)) {
            chutesInvalidos++
            if (chutesInvalidos == 3) {
                alert('Game Over!')
                break
            }
            
            chute = pegaInt('Chute inválido! Informe um número entre 1-60:')
        }

        if (numerosSorteados.includes(chute)) {
            mostra(`
                Jogada ${numeroJogada}: Parabéns, você acertou! 
                Os números sorteados foram: ${numerosSorteados.join(', ')}
            `)
        }
        else {
            mostra(`
                Jogada ${numeroJogada}: Que pena, você errou! 
                Os número sorteados foram: ${numerosSorteados.join(', ')}
            `)
        }
    }

</script>